インプレスジャパン発行「上を目指すプログラマーのためのiPhoneアプリ開発テクニック iOS 7編」サンプルコード【概要】Core MotionとM7を利用した歩数計とモーショントラッキングのサンプルです。起動後、歩数計測が開始されると画面上部に歩数を表示します。また、画面下部にはモーションアクティビティを表示します（(s)は停止中を示します）。画面下にある「i」ボタンをタップすることで、計測開始からボタンタップまでの間のモーションアクティビティの履歴をテーブル上に表示します。また合計歩数をアラートビュー上に表示します。なお、歩数計測で0歩を認識した時点を開始時間とします。それより前に「i」ボタンをタップしても画面遷移しません。本サンプルプロジェクトからは以下の内容を学ぶことができます。・歩数計測、モーショントラッキングの使用方法・対応デバイス・OSの確認方法・アクセスチェック設定の確認方法【補足事項】iOS 7.0.4 では、現在時刻から遡って1分くらいの間はアクティビティが取得できない、またはアクティビティが正しくセットされていない(プロパティがすべてNOになっている)ことが確認されています。アクティビティが正しくセットされていないときでも、一定時間経過後に 再度取得を試みると正しいアクティビティが取得できる場合もあります。そのため、「i」ボタンをタップして何も表示されなかった場合でも、しばらく経ってからもう一度タップすることでそれまでの状態をすべて取得できることがあります。【実行環境】iOS SDK : 7.0.3Xcode : 5.0.2iOS : 7.0以降デバイス : iPhone 5s（iPad Air, iPad mini retinaでは歩数計測が動作しません）